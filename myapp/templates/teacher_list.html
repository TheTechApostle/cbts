{% load static %}
{% load widget_tweaks %}
{% include 'header.html' %}

<style>
.table th, .table td {
  vertical-align: middle !important;
  padding:4px;
}
.table tbody tr:hover {
  background-color: #f5f9ff;
}
</style>


<div class="container py-5">
  <h3 class="text-center mb-4">Registered Teachers</h3>

  {% if teachers %}
  <div class="table-responsive shadow-sm rounded">
    <table class="table table-bordered align-middle text-center">
      <thead class="table-primary">
        <tr>
          <th>#</th>
          <th>Profile</th>
          <th>Full Name</th>
          <th>Username</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Qualification</th>
          <th>Departments</th>
          <th>Courses</th>
        </tr>
      </thead>
      <tbody>
        {% for teacher in teachers %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>
            {% if teacher.profile_picture %}
              <img src="{{ teacher.profile_picture.url }}" alt="Profile" width="60" height="60" class="rounded-circle border">
            {% else %}
              <img src="{% static 'img/default-avatar.png' %}" alt="No Image" width="60" height="60" class="rounded-circle border">
            {% endif %}
          </td>
          <td>{{ teacher.full_name }}</td>
          <td>{{ teacher.user.username }}</td>
          <td>{{ teacher.user.email }}</td>
          <td>{{ teacher.phone }}</td>
          <td>{{ teacher.qualification }}</td>
          <td>
            {% for d in teacher.department.all %}
              <span class="badge bg-secondary">{{ d.name }}</span>
            {% empty %}
              -
            {% endfor %}
          </td>
          <td>
            {% for c in teacher.courses.all %}
              <span class="badge bg-info text-dark">{{ c.title }}</span>
            {% empty %}
              -
            {% endfor %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-center text-muted">No teachers have been registered yet.</p>
  {% endif %}

  <div class="text-center mt-4">
    <a href="{% url 'register_teacher' %}" class="btn btn-primary">+ Add New Teacher</a>
  </div>
</div>


{% include 'footer.html' %}

